RULE onTransfer
CLASS ^java.nio.channels.SocketChannel
METHOD write(java.nio.ByteBuffer)
HELPER org.reaktivity.nukleus.tcp.internal.SocketChannelHelper$OnTransferHelper
IF callerEquals("org.reaktivity.nukleus.tcp.internal.stream.WriteStream.onTransfer", true, true)
DO return doWrite($0, $1);
ENDRULE

RULE onNotifyWritable
CLASS ^java.nio.channels.SocketChannel
METHOD write(java.nio.ByteBuffer)
HELPER org.reaktivity.nukleus.tcp.internal.SocketChannelHelper$OnNotifyWritableHelper
IF callerEquals("org.reaktivity.nukleus.tcp.internal.stream.WriteStream.onNotifyWritable", true, true)
DO return doWrite($0, $1);
ENDRULE
